
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Peek Carousel — Swiper Coverflow (80% center)</title>

  <!-- Swiper CSS (CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

  <style>
    :root{
      --bg: #071226;
      --muted: rgba(255,255,255,0.12);
      --accent: #7ad7ff;
      --slide-width: 80%;     /* <-- 1) center photo size = 80% */
      --neighbor-scale: 0.88; /* scale for the side (smaller than center) */
      --control-size: 48px;
      --gap: 18px;
    }

    html,body{height:100%;margin:0;background:var(--bg);color:#eef6ff;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
    .card{width:clamp(360px,92vw,1100px);margin:0 auto;text-align:center}
    h1{margin:0 0 8px;font-size:20px;color:#eaf6ff}
    p.sub{margin:0 0 18px;color:var(--muted);font-size:13px}

    /* ---------- Swiper viewport ---------- */
    .swiper {
      width:100%;
      height:clamp(320px,52vh,600px);
      overflow:visible; /* allow peek */
      padding: 10px 0;
    }

    /* ---------- Slides ---------- */
    .swiper-wrapper { align-items:center; } /* vertical align */
    .swiper-slide{
      width: var(--slide-width);   /* <- 80% width for center slide */
      height:100%;
      border-radius:14px;
      overflow:hidden;
      box-shadow: 0 18px 48px rgba(0,0,0,0.6);
      position:relative;
      transition: transform .45s cubic-bezier(.2,.9,.25,1), box-shadow .45s ease;
      display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    }

    /* image styling */
    .swiper-slide img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      -webkit-user-drag:none;
      pointer-events:none;
      transform-origin:center center;
      transition: transform .45s cubic-bezier(.2,.9,.25,1), filter .3s ease;
    }

    /* 2) Make neighbors visually smaller and covered by the center slide:
       - Swiper coverflow gives transforms; additionally we make non-active slides a bit smaller and lower z-index
    */
    .swiper-slide:not(.swiper-slide-active){
      z-index:1; /* behind */
    }
    .swiper-slide.swiper-slide-active{
      z-index:3; /* top */
      transform: translate3d(0,0,0) scale(1) !important;
    }
    /* make images inside non-active slightly smaller (so they *look* smaller) */
    .swiper-slide:not(.swiper-slide-active) img{
      transform: scale(var(--neighbor-scale));
      filter:brightness(.92);
    }
    .swiper-slide.swiper-slide-active img{
      transform: scale(1);
      filter:brightness(1);
    }

    /* controls (prev/next) */
    .nav-btn{
      position:absolute; top:50%; transform:translateY(-50%);
      width:var(--control-size); height:var(--control-size);
      border-radius:10px; border:0; background: rgba(255,255,255,0.06);
      color:#fff; display:grid; place-items:center; cursor:pointer;
      backdrop-filter: blur(6px); box-shadow:0 10px 30px rgba(0,0,0,0.45);
    }
    .nav-prev{left:12px}
    .nav-next{right:12px}
    .nav-btn:hover{transform:translateY(-50%) scale(1.04)}

    /* dots */
    .dots { text-align:center; margin-top:12px }
    .dots button { width:10px; height:10px; border-radius:50%; border:0; margin:0 6px; background:rgba(255,255,255,0.22); cursor:pointer }
    .dots button.active{background:var(--accent); transform:scale(1.18) }

    /* responsive tweaks */
    @media (max-width:800px){
      :root{ --slide-width:86%; --neighbor-scale:0.9 }
      .nav-btn{ display:none } /* rely on swipe */
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Peek Carousel (Coverflow)</h1>
      <p class="sub">Center image is 80% width; neighbors are smaller and sit behind the center image. Drag / swipe / arrows supported.</p>

      <!-- Swiper structure -->
      <div class="swiper" id="myswiper">
        <div class="swiper-wrapper">
          <!-- Replace src with your file names -->
          <div class="swiper-slide"><img src="photos/XPX03427.jpg" alt="1"></div>
          <div class="swiper-slide"><img src="photos/XPX03250.jpg" alt="2"></div>
          <div class="swiper-slide"><img src="photos/XPX03269.jpg" alt="3"></div>
        </div>
        <!-- nav -->
        <button class="nav-btn nav-prev" id="prev" aria-label="Previous">‹</button>
        <button class="nav-btn nav-next" id="next" aria-label="Next">›</button>
      </div>

      <!-- dots -->
      <div class="dots" id="dots"></div>
    </div>
  </div>

  <!-- Swiper JS (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

  <script>
    // Initialize Swiper with Coverflow effect
    const swiper = new Swiper('#myswiper', {
      effect: 'coverflow',            // use coverflow for "peek & overlap" look
      grabCursor: true,
      centeredSlides: true,           // center the active slide
      slidesPerView: 'auto',          // auto width (we set width in CSS)
      loop: false,
      speed: 600,
      keyboard: { enabled: true, onlyInViewport: true },
      mousewheel: false,
      coverflowEffect: {              // tune these to adjust neighbor size and coverage
        rotate: 0,                    // rotation of side slides
        stretch: -30,                 // negative stretch pulls slides closer (helps overlap)
        depth: 160,                   // z-depth of side slides
        modifier: 1.0,
        slideShadows: false
      },
      on: {
        init: function() {
          // populate dots
          const dotsEl = document.getElementById('dots');
          for (let i = 0; i < this.slides.length; i++) {
            const b = document.createElement('button');
            b.className = i === this.realIndex ? 'active' : '';
            b.addEventListener('click', () => swiper.slideTo(i));
            dotsEl.appendChild(b);
          }
        },
        slideChange: function() {
          // sync dots active state
          const dots = Array.from(document.getElementById('dots').children);
          dots.forEach((d, idx) => d.classList.toggle('active', idx === this.realIndex));
        }
      }
    });

    // Prev/Next buttons hooked to Swiper
    document.getElementById('prev').addEventListener('click', () => swiper.slidePrev());
    document.getElementById('next').addEventListener('click', () => swiper.slideNext());
  </script>
</body>
</html>



